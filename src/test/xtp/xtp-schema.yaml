exports:
  apply:
    description: |
      This function transforms a given record in place
  toUpper:
    description: |
      This function converts key and value to upper case.
  transform:
    description: |
      This function takes a Record and returns a Record.
  copyHeader:
    description: |
      This function copies a header into another header.
  valueToKey:
    description: |
      This function copies a value to the key.
  headerToKey:
    description: |
      This function copies a header to the key.

imports:
  getKey:
    output:
      type: string
      contentType: text/plain; charset=utf-8
  setKey:
    input:
      type: string
      contentType: text/plain; charset=utf-8
  getTopic:
    output:
      type: string
      contentType: text/plain; charset=utf-8
  getValue:
    output:
      type: buffer
      contentType: application/x-binary
  getRecord:
    output:
      $ref: "#/components/schemas/Record"
      contentType: application/json
  setRecord:
    input:
      $ref: "#/components/schemas/Record"
      contentType: application/json

  setTopic:
    input:
      type: string
      contentType: text/plain; charset=utf-8
  setValue:
    input:
      type: buffer
      contentType: application/x-binary
  getHeader:
    input:
      type: string
      contentType: text/plain; charset=utf-8
    output:
      type: buffer
      contentType: application/x-binary
    description: ""
  setHeader:
    input:
      $ref: "#/components/schemas/Header"
      contentType: application/json
    description: ""
version: v1-draft
components:
  schemas:
    Header:
      properties:
        key:
          type: string
        value:
          type: buffer
      description: A key/value header pair.
    Record:
      properties:
        topic:
          type: string
        key:
          type: buffer
        value:
          type: buffer
        headers:
          type: array
          items:
            $ref: "#/components/schemas/Header"
      description: A plain key/value record.
